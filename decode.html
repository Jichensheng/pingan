<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="author"content="Jics 2018-9-26 08:54:05"/><title>报文解析工具</title><style>body{font-family:微软雅黑,宋体,Arial,Helvetica,Verdana,sans-serif}div{margin:auto;width:98%}textarea{width:70%;border:none;background:#f5f5f5}p{display:inline}th{font-size:14px;font-weight:bold}.satus{color:#1E9BE8}.direct{color:white;background:gray}.direct2{color:deeppink;background:#e2e2e2}.desc{color:#4CAF50}.bold{font-size:16px}.data{color:indianred}.import02{color:blue;background:yellow}.import04{color:red;background:yellow}.import1005{color:crimson;background:pink}.import1009{color:white;background:red}.import1023{color:red;background:yellow}.import1025{color:white;background:#1E9BE8}.import1027{color:white;background:dimgray}.import1040{color:green;background:gold}.tip{height:30px;line-height:30px;padding:0 5px}table{width:100%;border-color:lightgray;border-collapse:collapse}.center,textarea{text-align:center}h4{color:gray}#report{background:yellow;color:red;font-weight:bold;text-align:center}.button{width:94px;line-height:26px;text-align:center;font-weight:bold;color:#fff;border-radius:5px;margin:10px 20px 0 0;position:relative;overflow:hidden}.button.yellow{border:1px solid#d2a000;background:#fece34}.red.side:after{border-top:1px solid#aa1e1e;box-shadow:-2px 0 1px#c75959 inset;background:#b82929}.yellow.side:after{border-top:1px solid#ba8f06;box-shadow:-2px 0 1px#deb842 inset;background:#d5a406}.button.red{border:1px solid#b42323;background:#d53939}</style></head><body><div class="center"><h2>和顺充电桩报文解析辅助工具</h2></div><div class="center"><h4>一、IE10以上（推荐使用360极速浏览器）二、文件读取功能需耐心等待加载</h4></div><div><form id="code-form"class="center"style="display: block"><label for="origin_code"style="display:block;">原始报文</label><textarea rows="10"cols="20"type="text"id="origin_code"></textarea><br><input type="file"id="files"style="display:none"onchange="importFile();"/><input type="button"class="button red"onclick="doImport('utf-8')"value="导入UTF-8"/><input type="button"class="button yellow"onclick="doImport('GBK')"value="导入GBK"/></form></div><br><div class="center"><p class="import1005 tip"onclick="selectKey(-1)">全部报文</p><p class="import1009 tip"onclick="selectKey(2,'A')">筛选A枪</p><p class="import1027 tip"onclick="selectKey(2,'B')">筛选B枪</p><p class="import1005 tip"onclick="selectKeyAuto('A')">智能筛选A枪</p><p class="import1009 tip"onclick="selectKeyAuto('B')">智能筛选B枪</p></div><div class="center"><p class="import02 tip"onclick="selectKey(4,'刷卡信息')">刷卡信息</p><p class="import04 tip"onclick="selectKey(4,'事件信息')">事件信息</p><p class="import1005 tip"onclick="selectKey(4,'交易')">交易信息</p><p class="import1009 tip"onclick="selectKey(4,'授权码信息')">授权码信息</p><p class="import1025 tip"onclick="selectKey(4,'交易记录3')">充电电量</p><p class="import1027 tip"onclick="selectKey(4,'交易记录4')">充电后SOC</p></div><div id="report"></div><br><div><table border="1"id="table"></table></div></body><script>eval(function(p,a,c,k,e,d){e=function(c){return(c<a?"":e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('d 18=[];d 1K="4h";m E(x,1d){d 1e=17 2z("^"+1d);v 1e.2n(x)}m 2f(x,1d){d 1e=17 2z(1d+"$");v 1e.2n(x)}d 1h=H.P("2L");1h.2K(\'2Q\',m(){1y(\'0\')});m 2q(1B){h(H.2O){H.P(1B).2t()}y{d e=H.2P("2I");e.2C("2t",1o,1o);H.P(1B).2H(e)}}m 38(2r){1K=2r;2q("1n")}m 34(){d 2p=H.P("1n").1n[0];d 1A=17 3a();1A.3b(2p,1K);1A.2W=m(){1h.2e=2X.a;1y(\'0\')}}d q=H.P("q");m 2V(1w,2m){H.P("O").J="";d 1i=q.t.G;1m(d i=1;i<1i;i++){h(1w==-1){q.t[i].M.U=\'\'}y{d r=q.t[i].R[1w].J;h(r.w(2m)){q.t[i].M.U=\'\'}y{q.t[i].M.U=\'1E\'}}}}m 2T(o){H.P("O").J="";18=[];d 1i=q.t.G;d Q={};1m(d i=1;i<1i;i++){d r=q.t[i].R[4].J;d 2o=q.t[i].R[2].J;h(2o.w(o)){h(r.w(\'1F\')||r.w(\'2l\')||r.w(\'1q\')||r.w(\'2U\')||r.w(\'2A\')){h(r.w(\'1r\')){Q.1a=q.t[i].R[1].J}h(r.w(\'1p\')){Q.Z=q.t[i].R[1].J}h(r.w(\'1G\')){Q.Z=q.t[i].R[1].J;Q.o=o+\'2Y\';Q.S=r.1z(r.2g(\'">\')+2,r.2i(\'1C\'));18.32(Q);Q={}}q.t[i].M.U=\'\';h(r.w(\'1F\')||r.w(\'2A\')||r.w(\'1q\')||r.w(\'1G\')){q.t[i].R[1].33("M","27:31")}}y{q.t[i].M.U=\'1E\'}}y{q.t[i].M.U=\'1E\'}}d O="";1W.2c(18);18.25(m(s){d 2w=1U(s.1a,s.Z);d S=2Z(s.S);h(2w<3*30*Y&&S>15){O+=s.o+" 2v "+s.1a+" 2j "+s.Z+" 1O "+S+" 1P，1T，1V！<1Q>"}h(!!s.S){h(!(!!s.1a&&!!s.Z)){O+=s.o+" 2v "+s.1a+" 2j "+s.Z+" 1O "+S+" 1P，1T，1V！<1Q>"}}});h(O.G>1){H.P("O").J=O}}m 1U(1v,1u){d 2a=1f.1L(17 1f(1v.u(0,19).1M(/-/g,"/")));d 2d=1f.1L(17 1f(1u.u(0,19).1M(/-/g,"/")));1W.2c(1v+"   "+1u);v T(2d-2a)/Y}m 1y(L){d 2h=1h.2e;d K=2h.1x("\\n");d X="<I><c>3c</c><c>3e</c><c>3d</c><c>39</c><c>35</c></I>";1m(d i=0;i<K.G;i++){h(E(K[i],"36")){d 1g=K[i].u(5,23);d o=K[i].u(K[i].2i("【")+1,2);d k=K[i].u(K[i].2g(":")+1);h(L==\'1\'&&E(o,"A")){o="<p b=\'z\'>"+o+"</p>";X+="<I><c D=\'3%\'>"+(i+1)+"</c><c D=\'16%\'>"+1g+"</c><c D=\'3%\'>"+o+"</c><c D=\'20%\'>"+1k(k)+"</c><c 1s=\'1H\'>"+1j(k)+"</c></I>"}y h(L==\'2\'&&E(o,"B")){o="<p b=\'C\'>"+o+"</p>";X+="<I><c D=\'3%\'>"+(i+1)+"</c><c D=\'16%\'>"+1g+"</c><c D=\'3%\'>"+o+"</c><c D=\'20%\'>"+1k(k)+"</c><c 1s=\'1H\'>"+1j(k)+"</c></I>"}y h(L==\'0\'){o="<p b=\'"+(E(o,"A")?"z":"C")+"\'>"+o+"</p>";X+="<I><c D=\'3%\'>"+(i+1)+"</c><c D=\'16%\'>"+1g+"</c><c D=\'3%\'>"+o+"</c><c D=\'20%\'>"+1k(k)+"</c><c 1s=\'1H\'>"+1j(k)+"</c></I>"}}y{X+="<I><c 2D=\'4\' M=\'2S: #2F;27: 2M;"+"\'>"+K[i]+"</c></I>"}}q.J=X}m 1k(k){d 4f=k;h(E(k,\'24\')&&k.G==26){k=k.u(0,2)+"<p b=\'9\'>"+k.u(2,4)+"</p>"+"<p b=\'C\'>"+k.u(6,4)+"</p>"+k.u(10)}v k}m 1j(k){h(E(k,"24")){d 1X=k.u(2,4);d 28=k.u(6,4);d 21=k.u(10);v(E(28,"4e")?"<p b=\'4i\'>[1Y->22] </p>":"<p b=\'4m\'>[22->1Y] </p>")+"&7&7&7"+1Z(1X,21)}y h(k.4n().G>0){v"4l"}y{v"4j"}}m 1Z(L,9){d a="";2x(T(L,16)){l 4k:a+="<p b=\'z\'>4c</p>&7&7&7";j;l 44:a+="<p b=\'45\'>43</p>&7&7&7";d C=9.u(0,2);h(2f(C,"3")){a+="<p b=\'C 1c\'>【41】</p>"}y h(E(C,"0")){a+="<p b=\'C 1c\'>【42】</p>"}y h(E(C,"11")){a+="<p b=\'C 1c\'>【46】</p>"}y h(E(C,"12")){a+="<p b=\'C 1c\'>【48】</p>"}a+=" 4o：<p b=\'9\'>"+f(2,4,9,10)+"V</p>";a+=" 4B：<p b=\'9\'>"+f(6,4,9,10)+"A</p>";a+=" 4A：<p b=\'9\'>"+f(10,4,9,10)+"4x</p>";j;l 4v:a="<p b=\'z\'>4t</p>&7&7&7&7&7";a+=" 4r：<p b=\'9\'>"+f(0,4,9,10)+"V</p>";a+=" 4p：<p b=\'9\'>"+f(4,4,9,10)+"V</p>";a+=" 4q：<p b=\'9\'>"+f(8,4,9,10)+"A</p>";a+=" 4u：<p b=\'9\'>"+f(12,4,9,10)+"A</p>";j;l 4s:a="<p b=\'4z\'>4w</p>&7&7&7";a+=" 4y：<p b=\'9\'>"+f(4,4,9,13)+"1C</p>";a+=" 3u：<p b=\'9\'>"+f(0,4,9)+"3v（1I）</p>";j;l 3w:a="<p b=\'z\'>3r</p>&7&7&7";a+=" 3s：<p b=\'9\'>"+f(12,4,9,10)+"V</p>";j;l 3t:a="<p b=\'z\'>3A</p>&7&7&7";a+=" 3B：<p b=\'9\'>"+f(0,4,9,Y)+"V</p>";j;l 3C:a="<p b=\'z\'>3x</p>&7&7&7";a+=" 3y：<p b=\'9\'>"+f(0,4,9,Y)+"V</p>";a+=" 3z：<p b=\'9\'>"+f(12,2,9)+"%</p>";j;l 3i:a="<p b=\'3j\'>3k</p>&7&7&7";a+=" <p b=\'9\'>"+(f(0,2,9)==0?"3f":(f(0,2,9)==1?"1r":"1p"))+"</p>";j;l 3g:a="<p b=\'z\'>1q</p>&7&7&7";a+=" <p b=\'9\'>"+(f(0,2,9)==1?"1r":"1p")+"</p>";j;l 3h:a="<p b=\'z\'>3o</p>&7&7&7&7&7";a+=" <p b=\'9\'>"+f(0,8,9,13)+"3p（3q，3l）</p>";j;l 3m:a="<p b=\'z\'>3n</p>&7&7&7";j;l 3S:a="<p b=\'z\'>3T</p>&7&7&7";j;l 3U:a="<p b=\'3P\'>2l</p>&7&7&7&7&7&7&7&7";a+=" <p b=\'9\'>"+(9.1z(0,2,9)=="3Q"?"3R":(9.1z(0,2,9)=="3Y"?"3Z":"40"))+"</p>";j;l 3V:a="<p b=\'1b\'>3W</p>&7&7&7";a+=" 3X：<p b=\'9\'>"+f(0,4,9)+"2k</p>";a+="<p b=\'9\'>"+F(f(4,2,9),2)+"2s</p>";a+="<p b=\'9\'>"+F(f(6,2,9),2)+"2u  </p>";a+="<p b=\'9\'>"+F(f(8,2,9),2)+":</p>";a+="<p b=\'9\'>"+F(f(10,2,9),2)+":</p>";a+="<p b=\'9\'>"+F(f(12,2,9),2)+" （1I）</p>";j;l 3G:a="<p b=\'1b\'>3H</p>&7&7&7";a+=" 3I：<p b=\'9\'>"+f(0,4,9)+"2k</p>";a+="<p b=\'9\'>"+F(f(4,2,9),2)+"2s</p>";a+="<p b=\'9\'>"+F(f(6,2,9),2)+"2u  </p>";a+="<p b=\'9\'>"+F(f(8,2,9),2)+":</p>";a+="<p b=\'9\'>"+F(f(10,2,9),2)+":</p>";a+="<p b=\'9\'>"+F(f(12,2,9),2)+" （1I）</p>";j;l 3D:a="<p b=\'3E\'>1F</p>&7&7&7&7&7&7&7&7&7&7&7&7";a+=" 3F：<p b=\'9\'>"+9+"</p>";j;l 3M:a="<p b=\'1b\'>1G</p>&7&7&7";a+=" 3N：<p b=\'9\'>"+f(0,8,9,13)+"1C</p>";j;l 3O:a="<p b=\'1b\'>3K</p>&7&7&7";a+=" 3L：<p b=\'9\'>"+f(0,2,9)+"%</p>";j;l 3J:a="<p b=\'47\'>49</p>&7&7&7";d 1D=2b(9);a+=" "+1D[0]+"4b：<p b=\'4a\'>"+1D[1]+"</p>";j;2B:a="<p b=\'z\'>"+L+"4d</p>&7&7&7&7&7&7&7&7&7&7&7&7";a+="4g";j}v a}m 2b(x){d L=f(1,1,x);d a=\'\';x.u(2).1x(/(.{2})/g).25(m(s){h(s.G>1){d 1J=T(\'2R\'+s,16);h(1J!=0){a+=2J.2N(1J)}}});v[L,a]}m F(29,n){v(2E(n).14(0)+29).37(-n)}m 1S(x){v x.1x(/(.{2})/g)}m f(1l,G,x,W){v 1R(1l,G,x,W,1o)}m 1R(1l,G,x,W,1N){d N=1S(x.u(1l,G));h(1N){N.2G()}v 2y(N,W)}m 2y(N,W){d a=0;2x(W){l 10:a=(T(N.14(""),16)/10).1t(1);j;l 13:a=(T(N.14(""),16)/13).1t(2);j;l Y:a=(T(N.14(""),16)/Y).1t(3);j;2B:a=T(N.14(""),16);j}v a}',62,286,'|||||||nbsp||data|result|class|th|var||strToNumBig||if||break|code|case|function||gun||table|searchText|item|rows|substr|return|match|str|else|desc|||satus|width|startWith|PrefixInteger|length|document|tr|innerHTML|codeList|type|style|hexArray|report|getElementById|tempItem|cells|power|parseInt|display||digit|htmlStr|1000|end||||100|join|||new|error||start|import1025|bold|regStr|reg|Date|date|originCode|rowsLength|decodeCode|prettifyCode|index|for|files|true|停止|事件信息|启动|align|toFixed|endTime|beginTime|cellId|split|decode|substring|reader|id|kWh|vehicle|none|刷卡信息|交易记录3|left|该字段暂未使用|tempNum|textEncoder|parse|replace|reserve|之间充了|度电|br|strToNum|strToHex|可能有问题|getHowlong|请排查|console|codeType|桩|decodeData||codeData|网关||88|map||color|derict|num|beginTime_ms|vehicleToAscci|log|endTime_ms|value|endWith|lastIndexOf|codeStr|indexOf|到|年|授权码信息|key|test|gunText|selectedFile|trigger|encoder|月|click|日|在|howLong|switch|hexToNum|RegExp|车架号|default|initEvent|colspan|Array|e2e2e2|reverse|dispatchEvent|MouseEvents|String|addEventListener|origin_code|gray|fromCharCode|all|createEvent|input|0x|background|selectKeyAuto|交易|selectKey|onload|this|枪|parseFloat|60|blue|push|setAttribute|importFile|解析结果|INFO|slice|doImport|原始报文|FileReader|readAsText|行号|枪号|时刻|对时|0x1006|0x1007|0x1005|import1005|主站控制信息|非金额信息|0x100e|主站确认信息|充电金额信息|元|充当心跳包|电池组常规信息1|电池组端电压|0x1811|本次充电时间|分钟|0x1810|电池组常规信息3|最高单体电压|SOC|电池组常规信息2|最高允许单体电压|0x1812|0x1023|import1023|卡号|0x1022|交易结束时间|结束|0x1040|交易记录4|充电后SOC|0x1025|充电电量|0x1027|import1009|55|可以充电|0x100f|从确认信息|0x1009|0x1021|交易开始时间|开始|0F|余额不足|非法卡|故障|枪断开|充电机状态信息|0x1802|import02|待机|import1027|充电中|车架号报文|import1040|号车架号|心跳报文|报文|70|temp|暂未做解析|GBK|direct|空行|0x1801|非法报文|direct2|trim|输出电压|最低输出电压|最高输出电流|最高输出电压|0x1804|输出能力|最小截止电流|0x1803|充电机充电信息|kw|累计充电电量|import04|输出功率|输出电流'.split('|'),0,{}))</script></html>
